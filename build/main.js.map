{"version":3,"sources":["../../src/pages/chat/chat.ts","../../src/pages/home/home.ts","../../src/pages/modal/modal.ts","../../src/pages/settings/settings.ts","../../src/pages/feedback/feedback.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/facilitysignup/facilitysignup.ts","../../src/pages/signup/signup.ts","../../src/pages/message/message.ts","../../src/pages/login/login.ts","../../src/pages/directory/directory.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/user.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, OnDestroy } from '@angular/core';\nimport { NavController, NavParams, ModalController, AlertController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { UserProvider } from '../../providers/user';\nimport { MessagePage } from '../message/message';\nimport { FirebaseAnalytics } from '@ionic-native/firebase-analytics';\nimport { Firebase } from '@ionic-native/firebase';\n\n@Component({\n  selector: 'page-chat',\n  templateUrl: 'chat.html'\n})\nexport class ChatPage {\n\n  ref: any = [];\n  newMessage: string = '';\n  messages: any = [];\n  title: string = '#General';\n  time: any;\n  user: any = {};\n  name = '';\n  isReadUserExist = [];\n  messageDB: any;\n  type = '';\n  directChannel = '';\n  showUserList = false;\n  username = '';\n  users = [];\n  filteredUsers = [];\n  atNumbers = 0;\n  colors = ['#005aff', '#86d59b', '#00c0ff', '#7200ff'];\n  \n  constructor(\n    public navCtrl: NavController, \n    private db: AngularFireDatabase, \n    private params: NavParams,\n    private userProvider: UserProvider,\n    private modal: ModalController,\n    private alert: AlertController,\n    private firebaseAnalytics: FirebaseAnalytics,\n    private fb: Firebase\n  ) {\n    // this.fb.logEvent('event', 'first').then(res => {\n    //   console.log(res);\n    // });\n    // this.fb.getToken().then(res => {\n    // }).catch(err => {\n    // });\n    this.db.list(\"userList\").subscribe(data => {\n      data.map(d => {\n        if(((d.email !== localStorage.getItem(\"email\") && d.email !== '') || (d.phoneNumber !== localStorage.getItem(\"phone\") && d.email === '')) && d.facility === localStorage.getItem(\"facility\") && d.type === \"facility\") {\n          this.users.push(d);\n        }\n      });\n    });\n\n    this.title = params.get(\"title\") ? params.get(\"title\") : \"#General\";\n    this.type = params.get(\"type\") ? params.get(\"type\") : '';\n    this.directChannel = params.get(\"sender\") && params.get(\"receiver\") ? params.get(\"sender\") + \"-\" + params.get(\"receiver\") : '';\n\n    if(typeof localStorage.getItem(\"channel\") !== \"undefined\" && typeof localStorage.getItem(\"type\") !== \"undefined\" && localStorage.getItem(\"type\") === 'family' && typeof params.get(\"title\") === 'undefined') {\n      this.title = localStorage.getItem(\"channel\");\n    }\n\n    this.userProvider.getTrueVault();\n  }\n\n  ngOnDestroy() {\n    this.messageDB.unsubscribe();\n  }\n\n  ionicViewDidLoad() {\n\n  }\n\n  ionViewWillEnter() {\n    this.userProvider.isSeletedChannel.subscribe(flag => {\n      this.messageDB = this.db.list('/messages').subscribe(data => {\n        this.messages = [];\n        this.name = localStorage.getItem(\"firstName\") + \" \" + localStorage.getItem(\"lastName\");\n        data.map(d => {\n          if(d.channel === this.title && d.facility === localStorage.getItem(\"facility\") && d.channelType === '') {\n            if(typeof d.bot === 'undefined' || d.bot === '' || (d.bot === localStorage.getItem('email') && d.bot !== '') || (d.bot === localStorage.getItem('phone') && d.bot !== '')) {\n              d.displayTime = this.getDisplayTime(d.time);\n              this.messages.push(d);\n              let index = 0;\n              this.messages.map(m => {\n                if(typeof m.readUsers !== 'undefined') {\n                  let flag = false;\n                  m.readUsers.map(u => {\n                    u.displayTime = this.getDisplayTime(u.time);\n                    if(u.name !== '' && u.name !== this.name) {\n                      flag = true;\n                      this.isReadUserExist[index] = true;\n                    }\n                  });\n                  if(!flag) {\n                    this.isReadUserExist[index] = false;\n                  }\n                  index ++;\n                }\n              });\n    \n              let flag = true;\n              d.readUsers.map(user => {\n                // if(user.name === '' && d.name !== localStorage.getItem(\"firstName\") + \" \" + localStorage.getItem(\"lastName\")) {\n                if(user.name === '') {\n                  flag = false;\n                } else if(user.name === localStorage.getItem(\"firstName\") + \" \" + localStorage.getItem(\"lastName\")) {\n                  flag = true;\n                  return;\n                }\n              });\n              if(!flag) {\n                d.readUsers.push({name: localStorage.getItem(\"firstName\") + \" \" + localStorage.getItem(\"lastName\"), time: new Date().getTime(), displayTime: '', photoUrl: localStorage.getItem(\"photo\")})\n                this.db.list('/messages').update(d.$key, d);\n              }\n            }\n          } else if(d.facility === localStorage.getItem(\"facility\") && d.channelType === 'direct' && d.directChannel.indexOf(this.params.get(\"sender\")) >= 0 && d.directChannel.indexOf(this.params.get(\"receiver\")) >= 0) {\n            d.displayTime = this.getDisplayTime(d.time);\n            this.messages.push(d);\n            let index = 0;\n            this.messages.map(m => {\n              if(typeof m.readUsers !== 'undefined') {\n                let flag = false;\n                m.readUsers.map(u => {\n                  u.displayTime = this.getDisplayTime(u.time);\n                  if(u.name !== '' && u.name !== this.name) {\n                    flag = true;\n                    this.isReadUserExist[index] = true;\n                  }\n                });\n                if(!flag) {\n                  this.isReadUserExist[index] = false;\n                }\n                index ++;\n              }\n            });\n\n            let flag = true;\n            d.readUsers.map(user => {\n              // if(user.name === '' && d.name !== localStorage.getItem(\"firstName\") + \" \" + localStorage.getItem(\"lastName\")) {\n              if(user.name === '') {\n                flag = false;\n              } else if(user.name === localStorage.getItem(\"firstName\") + \" \" + localStorage.getItem(\"lastName\")) {\n                flag = true;\n                return;\n              }\n            });\n            if(!flag) {\n              d.readUsers.push({name: localStorage.getItem(\"firstName\") + \" \" + localStorage.getItem(\"lastName\"), time: new Date().getTime(), displayTime: '', photoUrl: localStorage.getItem(\"photo\")})\n              this.db.list('/messages').update(d.$key, d);\n            }\n          }\n        });\n      });\n    });\n  }\n\n  send(){\n    this.time = new Date().getTime();\n    let message = {\n      name: localStorage.getItem(\"firstName\") + \" \" + localStorage.getItem(\"lastName\"),\n      email: localStorage.getItem(\"email\"),\n      type: localStorage.getItem(\"type\"),\n      phone: localStorage.getItem(\"phone\"),\n      facility: localStorage.getItem(\"facility\"),\n      channel: this.title,\n      message: this.newMessage,\n      time: this.time,\n      photoUrl: localStorage.getItem(\"photo\"),\n      channelType: this.type,\n      directChannel: this.directChannel,\n      readUsers: [{name: '', time: 0, displayTime: '', photoUrl: ''}],\n      bot: ''\n    };\n    if(this.newMessage != '') {\n      this.db.list('/messages').push(message).then(data => {\n        this.firebaseAnalytics.logEvent('messages', {message: 'message'})\n        .then((res: any) => console.log(res))\n        .catch((error: any) => console.error(error));\n\n        this.userProvider.sendTrueVault(message);\n        if(typeof this.params.get(\"email\") !== 'undefined') {\n          if(this.params.get(\"email\") !== '') {\n            this.userProvider.directMessage(this.newMessage, [this.params.get(\"email\")]);\n          } else {\n            this.userProvider.sendSMS(this.newMessage, [this.params.get(\"phone\")]);\n          }\n          // this.users.map(u => {\n          //   if(u.email === this.params.get(\"email\") || u.phoneNumber === this.params.get(\"phone\")) {\n          //     this.userProvider.sendSMS(this.newMessage, [u.phoneNumber]);\n          //   }\n          // });\n        } else {\n          let emails = [];\n          let phones = [];\n          this.users.map(u => {\n            if(this.newMessage.indexOf(\"@\" + u.firstName + \"\" + u.lastName) >= 0) {\n              emails.push(u.email);\n              phones.push(u.phoneNumber);\n              if(this.newMessage.indexOf(\"@\" + u.firstName + \"\" + u.lastName + \",\") >= 0) {\n                this.newMessage = this.newMessage.replace(\"@\" + u.firstName + \"\" + u.lastName + \",\", \"\");                \n              } else {\n                this.newMessage = this.newMessage.replace(\"@\" + u.firstName + \"\" + u.lastName, \"\");\n              }\n            }\n          });\n          this.userProvider.directMessage(this.newMessage, emails);\n          this.userProvider.sendSMS(this.newMessage, phones);\n        }\n        this.newMessage = '';\n      });\n    }\n  }\n\n  getDisplayTime(time) {\n    let timeDistance = new Date().getTime() - time;\n    if(timeDistance / 1000 < 60) {\n      return (timeDistance / 1000).toFixed() + ' seconds ago';\n    } else if(timeDistance / 1000 >= 60 && timeDistance / 1000 < 3600) {\n      return (timeDistance / 60000).toFixed() + ' minutes ago';\n    } else if(timeDistance / 1000 >= 3600 && timeDistance / 1000 < 3600 * 24) {\n      return (timeDistance / 3600000).toFixed() + ' hours ago';\n    } else {\n      return ((timeDistance / 3600000) / 24).toFixed() + ' days ago';\n    }\n  }\n\n  showMessageModal(readers) {\n    let modal = this.modal.create(MessagePage, {readers: readers});\n    modal.present();\n  }\n\n  checkName(event) {\n    let filterStr = event.value.substring(event.value.lastIndexOf('@') + 1, event.value.length);\n    this.filteredUsers = [];\n    this.users.map(u => {\n      if((u.firstName + u.lastName).toLowerCase().indexOf(filterStr.toLowerCase()) >= 0) {\n        this.filteredUsers.push(u);\n      }\n    });\n    if(event.value.substring(event.value.length - 1, event.value.length) === '@' && localStorage.getItem(\"channelType\") === \"departments\") {\n      this.showUserList = true;\n      this.atNumbers += 1;\n    } else if (event.value.match(/@/gi) === null || event.value.match(/@/gi).length < this.atNumbers) {\n      this.showUserList = false;\n      this.atNumbers = 0;\n    }\n  }\n\n  setUser(user) {\n    this.username = user.firstName + user.lastName;\n    if (this.newMessage.indexOf('@' + this.username) < 0) {\n      this.newMessage = this.newMessage.replace(this.newMessage.substring(this.newMessage.lastIndexOf('@'), this.newMessage.length), '@' + this.username);      \n    }\n    this.showUserList = false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { FacilitysignupPage } from '../facilitysignup/facilitysignup';\nimport { LoginPage } from '../login/login';\n\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n})\nexport class HomePage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n  }\n\n  signin() {\n    this.navCtrl.push(LoginPage);\n  }\n\n  signup() {\n    this.navCtrl.push(FacilitysignupPage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ViewController, ToastController } from 'ionic-angular';\nimport { UserProvider } from '../../providers/user';\nimport { AngularFireDatabase } from 'angularfire2/database';\n\n@Component({\n  selector: 'page-modal',\n  templateUrl: 'modal.html',\n})\nexport class ModalPage {\n  inviteData = {\n    firstName: '',\n    lastName: '',\n    facilityName: '',\n    email: '',\n    number: '(1)',\n    type: '',\n    patient: '',\n    inviteDate: new Date()\n  };\n  inviteType = '';\n  patients: any = [];\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private view: ViewController,\n    private user: UserProvider, \n    private db: AngularFireDatabase, \n    private toast: ToastController\n  ) {\n    this.inviteType = this.navParams.get(\"type\");\n    this.inviteData.type = this.inviteType;\n    user.patients.subscribe(d => {\n      user.getPatients().then(data => {\n        this.patients = data;\n      });\n    });\n  }\n\n  ionViewDidLoad() {\n  }\n\n  closeModal() {\n    this.view.dismiss();\n  }\n\n  sendInvite() {\n    this.inviteData.email = this.inviteData.email.toLowerCase();\n    this.inviteData.facilityName = this.inviteData.facilityName.toLowerCase();\n    this.closeModal();\n    let message = 'Sent invitation.';\n    this.presentToast(message);\n    this.inviteData.facilityName = localStorage.getItem(\"facility\") ? localStorage.getItem(\"facility\") : '';\n    this.user.sendInvitation(this.inviteData).then(data => {\n      let message = 'Sent invitation successfully.';\n      this.presentToast(message);\n    })\n    .catch(err => {\n    });\n  }\n\n  addPatient() {\n    this.user.patients.subscribe(data => {\n      console.log(data, localStorage.getItem(\"patientId\"));\n      if(typeof localStorage.getItem(\"patientId\") === 'undefined' || localStorage.getItem(\"patientId\") === '') {\n        this.db.list(\"/patients\").push({facility: localStorage.getItem(\"facility\"), patients: [this.inviteData.firstName + \" \" + this.inviteData.lastName]});\n      } else {\n        if(typeof data !== 'undefined' && data.indexOf(this.inviteData.firstName + \" \" + this.inviteData.lastName) < 0) {\n          data.push(this.inviteData.firstName + \" \" + this.inviteData.lastName);\n          this.db.list(\"/patients\").update(localStorage.getItem(\"patientId\"), {facility: localStorage.getItem(\"facility\"), patients: data});          \n        } else if (typeof data === 'undefined') {\n          this.db.list(\"/patients\").update(localStorage.getItem(\"patientId\"), {facility: localStorage.getItem(\"facility\"), patients: [this.inviteData.firstName + \" \" + this.inviteData.lastName]});          \n        }\n      }\n    });\n    let message = 'Added new patient successfully.';\n    this.presentToast(message);\n    this.closeModal();\n  }\n\n  presentToast(message) {\n    let toast = this.toast.create({\n      message: message,\n      duration: 1500,\n      position: 'top'\n    });\n  \n    toast.onDidDismiss(() => {\n    });\n  \n    toast.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/modal.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, ToastController } from 'ionic-angular';\nimport { HomePage } from '../home/home';\nimport { UserProvider } from '../../providers/user';\n\n@IonicPage()\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html',\n})\nexport class SettingsPage {\n  facility: string;\n  updateData = {\n    firstname: '',\n    lastname: '',\n    title: '',\n    password: '',\n    confirmpassword: '',\n  };\n  constructor(public navCtrl: NavController, public navParams: NavParams, private user: UserProvider, private load: LoadingController, private toast: ToastController) {\n    this.facility = localStorage.getItem(\"facility\");\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SettingsPage');\n  }\n\n  signOut() {\n    this.navCtrl.setRoot(HomePage);\n    this.user.logout();\n  }\n\n  update() {\n    let loading = this.load.create({\n      spinner: 'hide',\n      content: `\n        <div class=\"loading\">\n          <h4>Legacy</h4>\n        </div>`\n    });\n    loading.present();\n\n    let toast = this.toast.create({\n      message: \"User has been updated successfully.\",\n      duration: 1500,\n      position: 'bottom'\n    });\n    this.user.updateUser(this.updateData).then(res => {\n      loading.dismiss();\n      toast.present();\n    });\n  }\n\n  sendFeedback() {\n\n  }\n\n  rateUs() {\n    \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { UserProvider } from '../../providers/user';\n\n@IonicPage()\n@Component({\n  selector: 'page-feedback',\n  templateUrl: 'feedback.html',\n})\nexport class FeedbackPage {\n  title = '';\n  feedback = '';\n  feedbackList = [];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private userService: UserProvider) {\n    this.title = this.navParams.get('title');\n    this.userService.getFeedbacks().then((res: any) => {\n      res.map(r => {\n        if ((r.email !== '' && r.email === localStorage.getItem('email')) || (r.email === '' && r.phone === localStorage.getItem('phone'))) {\n          this.feedbackList.push(r);\n        }\n      });\n    });\n  }\n\n  ionViewDidLoad() {\n    \n  }\n\n  sendFeedback() {\n    if(this.feedback !== '') {\n      this.userService.sendFeedback(this.feedback).then((res: any) => {\n        this.feedbackList = [];\n        res.map(r => {\n          if ((r.email !== '' && r.email === localStorage.getItem('email')) || (r.email === '' && r.phone === localStorage.getItem('phone'))) {\n            this.feedbackList.push(r);\n          }\n        });\n      });\n      this.feedback = '';      \n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/feedback/feedback.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 196;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 196\n// module chunks = 3","var map = {\n\t\"../pages/feedback/feedback.module\": [\n\t\t751,\n\t\t2\n\t],\n\t\"../pages/home/home.module\": [\n\t\t749,\n\t\t1\n\t],\n\t\"../pages/settings/settings.module\": [\n\t\t750,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 239;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 239\n// module chunks = 3","import { Component } from '@angular/core';\nimport { NavController, NavParams, LoadingController, AlertController } from 'ionic-angular';\nimport { UserProvider } from '../../providers/user';\nimport { SignupPage } from '../signup/signup';\nimport { AngularFireDatabase } from 'angularfire2/database';\n\n@Component({\n  selector: 'page-facilitysignup',\n  templateUrl: 'facilitysignup.html',\n})\nexport class FacilitysignupPage {\n  signupData = {\n    facility: '',\n    emailphone: '',\n    email: '',\n    phone: ''\n  }\n  facilities = [];\n  tempFacilities = [];\n  showList = false;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private provider: UserProvider,\n    private loading: LoadingController,\n    private alert: AlertController,\n    private db: AngularFireDatabase\n  ) {\n    db.list(\"facilities\").subscribe(data => {\n      this.facilities = data;\n      this.tempFacilities = data;\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad FacilitysignupPage');\n  }\n\n  ionViewWillEnter() {\n    this.signupData.email = '';\n    this.signupData.phone = '';\n  }\n\n  signup() {\n    if(parseInt(this.signupData.emailphone.substring(0, 1)) > 0) {\n      this.signupData.phone = this.signupData.emailphone;\n    } else {\n      this.signupData.email = this.signupData.emailphone.toLowerCase();\n    }\n    this.signupData.facility = this.signupData.facility.toLowerCase();\n    if(this.signupData.facility.indexOf(\" \") >= 0) {\n      let alert = this.alert.create({\n        message: 'Facility name can not include space.',\n        buttons: [{text: \"OK\"}]\n      });\n      alert.present();\n      return;\n    }\n\n    let loading = this.loading.create({\n      spinner: 'hide',\n      content: `\n        <div class=\"loading\">\n          <h4>Legacy</h4>\n        </div>`\n    });\n    loading.present();\n    this.provider.isInvited(this.signupData).then(data => {\n      console.log(data);\n      loading.dismiss();\n      if(typeof data === \"boolean\") {\n        this.navCtrl.push(SignupPage, {isInvited: false, data: this.signupData});\n      } else if (typeof data === \"object\") {\n        this.navCtrl.push(SignupPage, {isInvited: true, data: data});\n      }\n    }).catch(err => {\n      loading.dismiss();\n      let alert = this.alert.create({\n        message: err.message,\n        buttons: [{text: \"OK\"}]\n      });\n      alert.present();\n    });\n  }\n\n  selectFacility(value) {\n    this.signupData.facility = value;\n    this.showList = false;\n  }\n\n  getFilteredFacilities(event) {\n    let key = event.target.value;\n    this.facilities = [];\n\n    this.tempFacilities.map(f => {\n      if(f.$value.toLowerCase().indexOf(key.toLowerCase()) >= 0) {\n        this.facilities.push(f);\n      }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/facilitysignup/facilitysignup.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, AlertController, ToastController, LoadingController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { FirebaseAnalytics } from '@ionic-native/firebase-analytics';\nimport { UserProvider } from '../../providers/user';\nimport { ChatPage } from '../chat/chat';\n\n@Component({\n  selector: 'page-signup',\n  templateUrl: 'signup.html'\n})\nexport class SignupPage {\n  signupData = {\n    firstName: '',\n    lastName: '',\n    facilityName: '',\n    phone: '(1)',\n    email: '',\n    password: '',\n    repassword: '',\n    type: 'facility',\n    patient: '',\n    createdAt: new Date()\n  };\n  isAdded: boolean = false;\n  isInvited = false;\n  invitedEmail = '';\n  invitedPhone = '';\n \n  constructor(\n    private navCtrl: NavController, \n    private navParams: NavParams, \n    private alertCtrl: AlertController, \n    private db: AngularFireDatabase,\n    private userProvider: UserProvider,\n    private toast: ToastController,\n    private loading: LoadingController,\n    private firebaseAnalytics: FirebaseAnalytics\n  ) {\n    this.isInvited = navParams.data.isInvited;\n    if(this.isInvited) {\n      let data = navParams.data.data;\n      this.signupData.firstName = data.firstName;\n      this.signupData.lastName = data.lastName;\n      this.signupData.facilityName = data.facilityName;\n      this.signupData.phone = '(1)' + data.number;\n      this.signupData.email = data.email;\n      this.signupData.type = data.type;\n      this.signupData.patient = data.patient;\n      this.invitedEmail = data.email;\n      this.invitedPhone = data.number;\n    } else {\n      let data = navParams.data.data;\n      this.signupData.facilityName = data.facility;\n      this.signupData.email = data.email.toLowerCase();\n      this.signupData.phone = '(1)' + data.phone;\n      this.invitedEmail = data.email.toLowerCase();\n      this.invitedPhone = '(1)' + data.phone;\n    }\n  }\n\n  ionViewDidEnter() {\n\n  }\n \n  signup() {\n    this.signupData.facilityName = this.signupData.facilityName.toLowerCase();\n    this.signupData.email = this.signupData.email.toLowerCase();\n    let loading = this.loading.create({\n      spinner: 'hide',\n      content: `\n        <div class=\"loading\">\n          <h4>Legacy</h4>\n        </div>`\n    });\n    loading.present();\n    this.db.list(\"/facilities\").subscribe(data => {\n      if(this.signupData.password !== this.signupData.repassword) {\n        loading.dismiss();\n        let alert = this.alertCtrl.create({\n          message: 'Please enter same password in re-enter password.',\n          buttons: ['OK']\n        });\n        this.signupData.repassword = '';\n        alert.present();\n        return;\n      }\n\n      if(!this.isAdded) {\n        this.isAdded = true;\n        this.userProvider.adduser(this.signupData)\n        .then(data => {\n          this.firebaseAnalytics.logEvent('signup users', {email: this.signupData.email, phone: this.signupData.phone})\n          .then((res: any) => console.log(res))\n          .catch((error: any) => console.error(error));\n\n          loading.dismiss();\n          this.presentToast(\"Signed up successfully.\");\n          this.userProvider.setPatients().then(d => {\n            this.navCtrl.setRoot(ChatPage);\n          });\n        })\n        .catch(err => {\n          loading.dismiss();\n          this.isAdded = false;\n          let alert = this.alertCtrl.create({\n            title: 'Error',\n            message: err.message,\n            buttons: ['OK']\n          });\n          alert.present();\n        });\n      }\n    });\n  }\n\n  presentToast(message) {\n    let toast = this.toast.create({\n      message: message,\n      duration: 1500,\n      position: 'top'\n    });\n  \n    toast.onDidDismiss(() => {\n      console.log('Dismissed toast');\n    });\n  \n    toast.present();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ViewController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-message',\n  templateUrl: 'message.html',\n})\nexport class MessagePage {\n  readers: any = [];\n  name: string = '';\n  colors = ['#86d59b', '#005aff'];\n  \n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public view: ViewController\n  ) {\n    this.readers = this.navParams.get(\"readers\");\n    this.name = localStorage.getItem(\"firstName\") + \" \" + localStorage.getItem(\"lastName\");\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MessagePage');\n  }\n\n  closeModal() {\n    this.view.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/message/message.ts","import { Component } from '@angular/core';\nimport { NavController, AlertController, LoadingController } from 'ionic-angular';\nimport { FacilitysignupPage } from '../facilitysignup/facilitysignup';\nimport { ChatPage } from '../chat/chat';\nimport { UserProvider } from '../../providers/user';\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html'\n})\nexport class LoginPage {\n  loginData = {\n    emailphone: '',\n    password: '',\n    email: '',\n    phone: ''\n  }\n  constructor(\n    private navCtrl: NavController, \n    private userProvider: UserProvider,\n    private alertCtrl: AlertController,\n    private loading: LoadingController\n  ) { }\n\n  login() {\n    if(parseInt(this.loginData.emailphone.substring(0, 1)) > 0) {\n      this.loginData.phone = this.userProvider.getPhoneNumber(this.loginData.emailphone);\n    } else {\n      this.loginData.email = this.loginData.emailphone.toLowerCase();\n    }\n    let loading = this.loading.create({\n      spinner: 'hide',\n      content: `\n        <div class=\"loading\">\n          <h4>Legacy</h4>\n        </div>`\n    });\n    loading.present();\n    let flag = false;\n    this.userProvider.login(this.loginData)\n    .then(data => {\n      this.userProvider.setPatients().then(d => {\n        if(!flag) {\n          this.navCtrl.setRoot(ChatPage);\n          flag = true;\n          loading.dismiss();\n        }\n      }).catch(err => {\n        loading.dismiss();\n      });\n    })\n    .catch(err => {\n      loading.dismiss();\n      let alert = this.alertCtrl.create({\n        message: err.message,\n        buttons: ['OK']\n      });\n      alert.present();\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { ModalPage } from '../modal/modal';\n\n@Component({\n  selector: 'page-directory',\n  templateUrl: 'directory.html'\n})\nexport class DirectoryPage {\n  title: string = \"\";\n  users: any = [];\n  tempUsers: any = [];\n  searchKey: string = '';\n  result: any = '';\n  colors = ['#005aff', '#86d59b', '#00c0ff', '#7200ff'];\n  \n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private db: AngularFireDatabase,\n    private modalCtrl: ModalController\n  ) {\n    this.title = 'Facility Directory';\n    this.db.list(\"/userList\").subscribe(data => {\n      let facility = '';\n      data.map(user => {\n        if(localStorage.getItem(\"email\") === user.email && localStorage.getItem(\"phone\") === user.phoneNumber) {\n          facility = user.facility;\n        }\n      });\n\n      data.map(user => {\n        if(facility === user.facility) {\n          user.photoUrl = localStorage.getItem(\"photo\");\n          this.users.push(user);\n          this.tempUsers.push(user);\n        }\n      });\n    });\n  }\n\n  ionViewDidLoad() {\n    \n  }\n\n  presentModal() {\n    let modal = this.modalCtrl.create(ModalPage);\n    modal.present();\n  }\n\n  getUsers(event) {\n    console.log(event)\n    this.searchKey = event.target.value;\n    this.users = [];\n\n    this.tempUsers.map(user => {\n      let username = user.firstName + \" \" + user.lastName;\n      if(username.toLowerCase().indexOf(this.searchKey.toLowerCase()) >= 0) {\n        this.users.push(user);\n      }\n    });\n\n    this.result = this.users.length + \" results\";\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/directory/directory.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\n\nimport { MyApp } from './app.component';\nimport { ChatPage } from '../pages/chat/chat';\nimport { LoginPage } from '../pages/login/login';\nimport { SignupPage } from '../pages/signup/signup';\nimport { FacilitysignupPage } from '../pages/facilitysignup/facilitysignup';\nimport { DirectoryPage } from '../pages/directory/directory';\nimport { ModalPage } from '../pages/modal/modal';\nimport { MessagePage } from '../pages/message/message';\nimport { SettingsPage } from '../pages/settings/settings';\nimport { HomePage } from '../pages/home/home';\nimport { FeedbackPage } from '../pages/feedback/feedback';\n\nimport { UserProvider } from '../providers/user';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { FirebaseAnalytics } from '@ionic-native/firebase-analytics';\nimport { Firebase } from '@ionic-native/firebase';\n\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { HttpModule } from '@angular/http';\n\nexport const config = {\n  apiKey: \"AIzaSyBW5Hn3GzzCWLkoAjYwoeuipNd_EmmBPSM\",\n  authDomain: \"legacy-f1a71.firebaseapp.com\",\n  databaseURL: \"https://legacy-f1a71.firebaseio.com\",\n  projectId: \"legacy-f1a71\",\n  storageBucket: \"legacy-f1a71.appspot.com\",\n  messagingSenderId: \"954500088643\"\n};\n\n@NgModule({\n  declarations: [\n    MyApp,\n    ChatPage,\n    LoginPage,\n    SignupPage,\n    DirectoryPage,\n    ModalPage,\n    FacilitysignupPage,\n    MessagePage,\n    SettingsPage,\n    HomePage,\n    FeedbackPage\n  ],\n  imports: [\n    BrowserModule,\n    AngularFireModule.initializeApp(config),\n    AngularFireAuthModule,\n    AngularFireDatabaseModule,\n    HttpModule,\n    IonicModule.forRoot(MyApp, {\n      scrollAssist: true,\n      autoFocusAssist: false,\n      backButtonText: '',\n      iconMode: 'ios',\n      modalEnter: 'modal-slide-in',\n      modalLeave: 'modal-slide-out',\n      tabsPlacement: 'bottom',\n      pageTransition: 'ios-transition'\n    }, \n\n\n{\n  links: [\n    { loadChildren: '../pages/home/home.module#HomePageModule', name: 'HomePage', segment: 'home', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/settings/settings.module#SettingsPageModule', name: 'SettingsPage', segment: 'settings', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/feedback/feedback.module#FeedbackPageModule', name: 'FeedbackPage', segment: 'feedback', priority: 'low', defaultHistory: [] }\n  ]\n}),\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    ChatPage,\n    LoginPage,\n    SignupPage,\n    DirectoryPage,\n    ModalPage,\n    FacilitysignupPage,\n    MessagePage,\n    SettingsPage,\n    HomePage,\n    FeedbackPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    UserProvider,\n    FirebaseAnalytics,\n    Firebase\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable, NgZone } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport firebase from 'firebase';\nimport { Http, Headers, RequestOptions } from '@angular/http';\nimport { BehaviorSubject } from 'rxjs';\n\nconst serverUrl = 'https://us-central1-legacy-f1a71.cloudfunctions.net/';\n// const serverUrl = 'http://localhost:5000/legacy-f1a71/us-central1/';\n\n@Injectable()\nexport class UserProvider {\n  user: any = {};\n  userList: any;\n  firestore = firebase.storage();\n  headers = new Headers({ 'Content-Type': 'application/json' });\n  options = new RequestOptions({headers: this.headers});\n  facilityList: any;\n  patientList: any;\n  confirmDataList: any;\n  facilities = [];\n  isLogout = false;\n  subscribes = [];\n\n  public truevaultToken = new BehaviorSubject('');  \n  public isSetUser = new BehaviorSubject(false);\n  public isConfirmedCode = new BehaviorSubject(false);\n  public patients = new BehaviorSubject(<any>[]);\n  public directUsers = new BehaviorSubject(<any>[]);\n  public invitationData = new BehaviorSubject(<any>{});\n  public isSeletedChannel = new BehaviorSubject(false);\n  \n  constructor(\n    public auth: AngularFireAuth,\n    private db: AngularFireDatabase,\n    private zone: NgZone,\n    private http: Http\n  ) {\n    this.userList = this.db.list(\"/userList\");\n    this.confirmDataList = this.db.list(\"/confirmData\");\n    this.patientList = this.db.list(\"/patients\");\n    this.facilityList = this.db.list(\"/facilities\");\n    this.subscribes[0] = this.facilityList.subscribe(data => {\n      this.facilities = data;\n    });\n\n    let authUrl = 'https://api.truevault.com/v1/auth/login';\n    let formData = new FormData();\n    formData.append(\"username\", \"test\");\n    formData.append(\"password\", \"test\");\n    formData.append(\"account_id\", \"562ad185-5324-4abb-be69-f017c9a6954a\");\n    this.http.post(authUrl, formData).subscribe(data => {\n      this.truevaultToken.next(data.json().user.access_token);\n    });\n  }\n\n  adduser(newuser) {\n    return new Promise((resolve, reject) => {\n      // this.auth.auth.createUserWithEmailAndPassword(newuser.email, newuser.password)\n      // .then(data => {\n        if(newuser.phone !== '') {\n          newuser.phone = this.getPhoneNumber(newuser.phone);          \n        }\n        newuser.email = newuser.email.toLowerCase();\n        // this.getImageUrl('').then(url => {\n          this.userList.push({\n            firstName: newuser.firstName,\n            lastName: newuser.lastName,\n            email: newuser.email,\n            password: newuser.password,\n            phoneNumber: newuser.phone,\n            facility: newuser.facilityName,\n            type: newuser.type,\n            patient: newuser.patient,\n            photo: '',\n            // photoUrl: url,\n            photoUrl: '',\n            status: 'online'\n          }).then(data => {\n            this.setCurrentUser(newuser);\n            this.createBotMessage(newuser);\n            this.sendWelcomeEmail(newuser);\n            this.sendWelcomeSMS(newuser);\n            resolve(data);\n          }).catch(err => {\n            console.log(err);\n            reject(err);\n          });\n        // });\n        this.subscribes[1] = this.facilityList.subscribe(data => {\n          let flag = false;\n          data.map(d => {\n            if(d.$value === newuser.facilityName) {\n              flag = true;\n            }\n          });\n          if(!flag) {\n            this.facilityList.push(newuser.facilityName);            \n          }\n        });\n      // })\n      // .catch(err => {\n      //   reject(err);\n      // });\n    });\n  }\n\n  login(user) {\n    this.isLogout = false;\n    user.email = user.email.toLowerCase();\n    return new Promise((resolve, reject) => {\n      let isExist = false;\n      this.subscribes[2] = this.userList.subscribe(data => {\n        data.map(d => {\n          if(((d.email === user.email && d.email !== '') || (d.phoneNumber === user.phone && d.phoneNumber.length === 10)) && d.password === user.password && !this.isLogout) {\n            d.isLogin = true;\n            this.userList.update(d.$key, d);\n            isExist = true;\n            this.setCurrentUser(user);\n            resolve(true);\n          }\n        });\n\n        if(!isExist || data.length === 0) {\n          reject({message: \"User doesn't exist or Email(or Phone Number) / Password is wrong.\"});\n        }\n      });\n    });\n  }\n\n  getImageUrl(photo) {\n    let image = '';\n    image = photo != '' ? photo : 'person-flat.png';\n    return new Promise((resolve, reject) => {\n      this.firestore.ref().child(image).getDownloadURL().then((url) => {\n        this.zone.run(() => {\n          resolve(url);\n        })\n      }).catch(err => {\n        reject('');\n      });\n    });\n  }\n\n  sendInvitation(inviteUser) {\n    if(inviteUser.number !== '') {\n      inviteUser.number = this.getPhoneNumber(inviteUser.number);      \n    }\n    inviteUser.key = localStorage.getItem(\"inviteKey\") ? localStorage.getItem(\"inviteKey\") : '';\n\n    let url = serverUrl + \"sendEmail\";\n    return new Promise((resolve, reject) => {\n      this.http.post(url, {user: inviteUser, type: 'sendInvite'}, this.options).subscribe(data => {\n        resolve(data);\n      }, err => {\n        reject(err);\n      });\n    });\n  }\n\n  getCurrentUser() {\n    let user = {\n      email: localStorage.getItem(\"email\") ? localStorage.getItem(\"email\") : '',\n      firstName: localStorage.getItem(\"firstName\") ? localStorage.getItem(\"firstName\") : '',\n      lastName: localStorage.getItem(\"lastName\") ? localStorage.getItem(\"lastName\") : '',\n      type: localStorage.getItem(\"type\") ? localStorage.getItem(\"type\") : '',\n      facility: localStorage.getItem(\"facility\") ? localStorage.getItem(\"facility\") : '',\n      photo: localStorage.getItem(\"photo\") ? localStorage.getItem(\"photo\") : '',\n    };\n\n    return user;\n  }\n\n  setCurrentUser(user) {\n    this.subscribes[3] = this.userList.subscribe(data => {\n      let users = [];\n      let phone = user.phone !== '' ? this.getPhoneNumber(user.phone) : user.phone;\n      let facility = '';\n      data.map(d => {\n        if((d.email == user.email && user.email != '') || (d.phoneNumber == phone && user.email == '')) {\n          facility = d.facility;\n        }\n      });\n      data.map(d => {\n        if((d.email == user.email && user.email != '') || (d.phoneNumber == phone && user.email == '')) {\n          localStorage.setItem(\"facility\", d.facility);\n          localStorage.setItem(\"firstName\", d.firstName);\n          localStorage.setItem(\"lastName\", d.lastName);\n          localStorage.setItem(\"type\", d.type);\n          localStorage.setItem(\"email\", d.email);\n          localStorage.setItem(\"photo\", d.photoUrl);\n          localStorage.setItem(\"channel\", d.patient);\n          localStorage.setItem(\"phone\", d.phoneNumber);\n          localStorage.setItem(\"userid\", d.$key);\n          this.isSetUser.next(true);\n          if(d.type === \"facility\") {\n            localStorage.setItem(\"channelType\", \"departments\");\n          } else {\n            localStorage.setItem(\"channelType\", \"\");\n          }\n          return;\n        } else {\n          if(d.type === \"facility\" && d.facility === facility) {\n            users.push({email: d.email, name: d.firstName + \" \" + d.lastName, phone: d.phoneNumber});\n          }\n        }\n      });\n      this.directUsers.next(users);\n    });\n  }\n\n  confirmInvitation(inviteCode) {\n    let url = serverUrl + \"sendEmail\";\n    return new Promise((resolve, reject) => {    \n      this.http.post(url, {code: inviteCode, email: localStorage.getItem(\"email\"), type: 'confirmInvite'}, this.options).subscribe(data => {\n        resolve(data.json());\n      }, err => {\n        reject(err);\n      });\n    });\n  }\n\n  setPatients() {\n    return new Promise((resolve, reject) => {    \n      this.subscribes[4] = this.patientList.subscribe(data => {\n        let flag = false;\n        data.map(d => {\n          if(d.facility === localStorage.getItem(\"facility\")) {\n            flag = true;\n            localStorage.setItem(\"patientId\", d.$key);\n            this.patients.next(d.patients);\n            resolve(data);\n          }\n        });\n        if(!flag || data.length === 0) {\n          localStorage.setItem(\"patientId\", '');\n          this.patients.next([]);\n          resolve(false);\n        }\n      });\n    });\n  }\n\n  getPatients() {\n    return new Promise((resolve, reject) => { \n      this.subscribes[5] = this.patientList.subscribe(data => {\n        data.map(d => {\n          if(d.facility == localStorage.getItem(\"facility\")) {\n            resolve(d.patients);\n          }\n        });\n      });\n    });\n  }\n\n  isInvited(signupData) {\n    if(signupData.phone !== '') {\n      signupData.phone = this.getPhoneNumber(signupData.phone);\n    }\n    return new Promise((resolve, reject) => {\n      this.subscribes[6] = this.userList.subscribe(data => {\n        data.map(d => {\n          if(((d.email === signupData.email && d.email !== '') || (d.phoneNumber === signupData.phone && d.email === '')) && d.facility !== signupData.facility) {\n            reject({message: \"Email or Phone Number is already registered in other facility.\"});\n            return;\n          }\n        });\n      });\n\n      this.subscribes[7] = this.confirmDataList.subscribe(data => {\n        let flagEmail = false;\n        data.map(d => {\n          if(((d.email === signupData.email && d.email !== '') || (d.number === signupData.phone && d.number !== '')) && d.facilityName === signupData.facility) {\n            resolve(d);\n          } else if(((d.email === signupData.email && d.email !== '') || (d.phoneNumber === signupData.phone && d.email === '')) && d.facilityName !== signupData.facility) {\n            reject({message: \"Email or Phone Number is already registered in other facility.\"});\n          } else {\n            this.facilities.map(d => {\n              if(d.$value === signupData.facility) {\n                flagEmail = true;                \n              }\n            });\n          }\n        });\n\n        if(!flagEmail) {\n          resolve(flagEmail);\n        } else {\n          reject({message: \"Please use invited Email or Phone Number for this facility.\"});\n        }\n      }, err => {\n        reject(err);\n      });\n    });\n  }\n\n  sendTrueVault(message) {\n    this.truevaultToken.subscribe(token => {\n      let url = 'https://api.truevault.com/v1/vaults/a8f0106b-da4e-41e4-a8f6-fa666ddbad93/documents';\n      let option = new RequestOptions({\n        headers: new Headers({'Authorization': 'Basic ' + btoa(token + ':\"\"')})\n      });\n      let formData = new FormData();\n      formData.append('document', new Buffer(JSON.stringify(message)).toString(\"base64\"));\n      formData.append('schema_id', 'cf4f4dcb-7913-4d0f-82b7-60e5e8dc5841');\n      formData.append('owner_id', 'a3478cc8-386c-4e62-ba65-939520be5fc1');\n      this.http.post(url, formData, option).subscribe(data => {\n        console.log(data);\n      })\n    });\n  }\n\n  getTrueVault() {\n    this.truevaultToken.subscribe(token => {\n      let docUrl = 'https://api.truevault.com/v1/vaults/a8f0106b-da4e-41e4-a8f6-fa666ddbad93/schemas/cf4f4dcb-7913-4d0f-82b7-60e5e8dc5841/documents';\n      let option = new RequestOptions({\n        headers: new Headers({'Authorization': 'Basic ' + btoa(token + ':\"\"')})\n      });\n      this.http.get(docUrl, option).subscribe(data => {\n      })\n    });\n  }\n\n  directMessage(message, emails) {\n    let url = serverUrl + 'directMessage';\n    if(emails.length > 0) {\n      this.http.post(url, {emails: emails, message: message}, this.options).subscribe(data => {\n      });\n    }\n  }\n\n  sendSMS(message, phones) {\n    let url = serverUrl + 'sendSMS';\n    if(phones.length > 0) {\n      this.http.post(url, {phones: phones, message: message}, this.options).subscribe(data => {\n        console.log(data);\n      });\n    }\n  }\n\n  logout() {\n    this.isLogout = true;\n    let sub = this.userList.subscribe(data => {\n      data.map(d => {\n        if((d.email !== '' && d.email === localStorage.getItem('email')) || (d.phoneNumber === localStorage.getItem(\"phone\") && d.email === '') && this.isLogout) {\n          d.isLogin = false;\n          this.userList.update(d.$key, d);\n        }\n      });\n    });\n    sub.unsubscribe();\n\n    this.subscribes.map(sub => {\n      sub.unsubscribe();\n    });\n\n    localStorage.setItem(\"patientId\", '');\n  }\n\n  sendWelcomeEmail(user) {\n    let url = serverUrl + 'welcomeMessage';\n    this.http.post(url, {email: user.email, name: user.firstName + \" \" + user.lastName}, this.options).subscribe(data => {\n      console.log(data);\n    });\n  }\n\n  sendWelcomeSMS(user) {\n    let url = serverUrl + 'welcomeSMS';\n    this.http.post(url, {phone: user.phoneNumber, name: user.firstName + \" \" + user.lastName}, this.options).subscribe(data => {\n      console.log(data);\n    });\n  }\n\n  createBotMessage(user) {\n    let msgContent = 'Welcome to Legacy!To get started, click on the menu icon in the upper lefthand corner.You can: 1. Leave messages for #Departments 2. Invite other facility staff 3. Add patients 4. Invite family members of patients 5. @Tag staff members 6. See who has read your messages & when they read them. Enjoy!';\n    let message = {channel: \"#General\", channelType: '', directChannel: '', email: user.email, phone: user.phone, facility: user.facilityName, name: 'Legacy Bot', photoUrl: '', time: new Date().getTime(), type: user.type, message: msgContent, bot: user.email === '' ? user.phone : user.email, readUsers: [{name: '', time: 0, displayTime: '', photoUrl: 'https://firebasestorage.googleapis.com/v0/b/legacy-f1a71.appspot.com/o/person-flat.png?alt=media&token=2ddd322f-02fe-4b25-a960-5f14e6112a8e'}]};\n    this.db.list(\"/messages\").push(message);\n  }\n\n  getPhoneNumber(phoneStr) {\n    let phone = '';\n    let numlist = phoneStr.match(/\\d+/g);\n    numlist.map(num => {\n      phone += num;\n    });\n    phone = phone.substr(phone.length - 10);\n    return phone;\n  }\n\n  updateUser(user) {\n    let firstName = user.firstname !== '' ? user.firstname : localStorage.getItem(\"firstName\");\n    let lastName = user.lastname !== '' ? user.lastname : localStorage.getItem(\"lastName\");\n    setTimeout(function() {\n      localStorage.setItem('firstName', firstName);\n      localStorage.setItem('lastName', lastName);\n    }, 5000);\n    return new Promise((resolve, reject) => { \n      this.subscribes[8] = this.userList.subscribe(data => {\n        data.map(d => {\n          if((d.email !== '' && d.email === localStorage.getItem('email')) || (d.phoneNumber === localStorage.getItem(\"phone\") && d.email === '')) {\n            d.firstName = user.firstname !== '' ? user.firstname : d.firstName;\n            d.lastName = user.lastname !== '' ? user.lastname : d.lastName;\n            d.title = user.title !== '' ? user.title : (typeof d.title === 'undefined' ? '' : d.title);\n            d.password = user.password !== '' ? user.password : d.password;\n            this.userList.update(d.$key, d);\n            localStorage.setItem(\"title\", d.title);\n            resolve('success');\n          }\n        });\n      });\n      this.subscribes[9] = this.db.list('messages').subscribe(data => {\n        data.map(d => {\n          if((d.email !== '' && d.email === localStorage.getItem('email') && d.bot === '') || (d.phoneNumber === localStorage.getItem(\"phone\") && d.email === '' && d.bot === '')) {\n            d.title = user.title !== '' ? user.title : (typeof d.title === 'undefined' ? '' : d.title);\n            d.name = firstName + ' ' + lastName;\n            d.readUsers.map(u => {\n              if (u.name === localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastName')) {\n                u.name = firstName + ' ' + lastName;\n              }\n            });\n            d.directChannel.replace(localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastName'), d.name);\n            this.db.list('messages').update(d.$key, d);\n          }\n        });\n      });\n    });\n  }\n\n  sendFeedback(feedback) {\n    let date = new Date();\n    return new Promise((resolve, reject) => {\n      this.subscribes[9] = this.db.list(\"feedbackList\").push({description: feedback, email: localStorage.getItem('email'), phone: localStorage.getItem('phone'), name: localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastName'), date: date.toString().substring(4, 15)}).then(res => {\n        this.db.list(\"feedbackList\").subscribe(data => {\n          resolve(data);\n        });\n      });\n    });\n  }\n\n  getFeedbacks() {\n    return new Promise((resolve, reject) => {\n      this.subscribes[10] = this.db.list(\"feedbackList\").subscribe(data => {\n        resolve(data);\n      });\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user.ts","import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform, ModalController, Config } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { AngularFireDatabase } from 'angularfire2/database';\n\nimport { ChatPage } from '../pages/chat/chat';\nimport { SettingsPage } from '../pages/settings/settings';\nimport { LoginPage } from '../pages/login/login';\nimport { DirectoryPage } from '../pages/directory/directory';\nimport { ModalPage } from '../pages/modal/modal';\nimport { HomePage } from '../pages/home/home';\nimport { FeedbackPage } from '../pages/feedback/feedback';\nimport { UserProvider } from '../providers/user';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any = HomePage;\n  facility: string = '';\n  username: string = '';\n  photoUrl: string = '';\n  userType: string = 'facility';\n\n  departments: any[];\n  directs = [];\n  patients = [];\n  settings: any[];\n  directNewStatus = [];\n  colors = ['#005aff', '#86d59b', '#00c0ff', '#7200ff'];\n  \n  constructor(\n    public platform: Platform, \n    public statusBar: StatusBar, \n    public splashScreen: SplashScreen,\n    private modalCtrl: ModalController,\n    private user: UserProvider,\n    private config: Config,\n    private db: AngularFireDatabase\n  ) {\n    // all platforms\n    this.config.set( 'scrollPadding', false );\n    this.config.set( 'scrollAssist', false );\n    this.config.set( 'autoFocusAssist', false );\n    // android\n    this.config.set( 'android', 'scrollAssist', true );\n    this.config.set( 'android', 'autoFocusAssist', 'delay' );\n\n    this.initializeApp();\n    this.rootPage = HomePage;\n    this.departments = [\n      { title: '#General', component: ChatPage, channel: \"departments\", selected: true },\n      { title: '#Activities', component: ChatPage, channel: \"departments\", selected: false },\n      { title: '#Dietary', component: ChatPage, channel: \"departments\", selected: false },\n      { title: '#Nursing', component: ChatPage, channel: \"departments\", selected: false },\n      { title: '#BusinessOffice', component: ChatPage, channel: \"departments\", selected: false },\n      { title: '#DSD', component: ChatPage, channel: \"departments\", selected: false },\n      { title: '#MDS', component: ChatPage, channel: \"departments\", selected: false },\n    ];\n\n    this.settings = [\n      { title: 'Settings', component: SettingsPage, channel: \"settings\" },\n      { title: 'Directory', component: DirectoryPage, channel: \"settings\" },\n      { title: 'Invite Facility Workers', component: ModalPage, channel: \"settings\", type: \"modal\", inviteType: 'facility' },\n      { title: 'Invite Family Member', component: ModalPage, channel: \"settings\", type: \"modal\", inviteType: 'family' },\n      { title: 'Add a Patient', component: ModalPage, channel: \"settings\", type: \"modal\", inviteType: 'patient' },\n      { title: 'Feedback', component: FeedbackPage, channel: \"settings\" },\n      { title: 'Log out', component: ChatPage, channel: \"settings\" }\n    ];\n\n    this.user.directUsers.subscribe(data => {\n      this.directs = [];\n      if(localStorage.getItem(\"type\") === \"facility\") {\n        data.map(d => {\n          this.directs.push({title: d.name, component: ChatPage, email: d.email, phone: d.phone, type: \"direct\", receiver: d.name, sender: localStorage.getItem(\"firstName\") + \" \" + localStorage.getItem(\"lastName\"), selected: false});\n        });\n      }\n    });\n\n    this.user.patients.subscribe(data => {\n      this.patients = [];\n      if(typeof data !== 'undefined' && localStorage.getItem(\"patientId\") !== '') {\n        data.map(d => {\n          if(localStorage.getItem(\"type\") == \"facility\") {\n            let isAlready = false;\n            this.patients.map(page => {\n              if(page.title === d) {\n                isAlready = true;\n              }\n            });\n            if(data.indexOf(d) >= 0 && !isAlready) {\n              this.patients.push({title: d, component: ChatPage, channel: \"patients\", selected: false});\n            }\n          } else {\n            this.patients = [{title: localStorage.getItem(\"channel\"), component: ChatPage, channel: \"patients\", selected: false}];\n          }\n        });\n      }\n\n      this.db.list(\"userList\").subscribe(data => {\n        this.directNewStatus = [];      \n        data.map(d => {\n          this.directs.map(dir => {\n            if ((d.email !== '' && d.email === dir.email) || (d.email === '' && d.phoneNumber === dir.phoneNumber)) {\n              this.directNewStatus.push(d.isLogin ? true : false);\n            }\n          });\n        });\n      });  \n\n      this.db.list('messages').subscribe(data => {\n        data.map(d => {\n          if (d.type === localStorage.getItem(\"type\") && d.facility === localStorage.getItem(\"facility\") && (d.bot === '' || d.bot === localStorage.getItem('email') || d.bot === localStorage.getItem('phone')) && d.directChannel === '') {\n            let flag = false;\n            d.readUsers.map(user => {\n              if (user.name === localStorage.getItem(\"firstName\") + ' ' + localStorage.getItem('lastName')) {\n                flag = true;\n              }\n            });\n            if (!flag) {\n              this.departments.map(channel => {\n                if (channel.title === d.channel) {\n                  channel.new = true;\n                }\n              });\n              this.patients.map(channel => {\n                if (channel.title === d.channel) {\n                  channel.new = true;\n                }\n              });\n            } else {\n              this.departments.map(channel => {\n                if (channel.title === d.channel) {\n                  channel.new = false;\n                }\n              });\n              this.patients.map(channel => {\n                if (channel.title === d.channel) {\n                  channel.new = false;\n                }\n              });\n            }\n          } else if (d.type === localStorage.getItem(\"type\") && d.facility === localStorage.getItem(\"facility\") && (d.bot === '' || d.bot === localStorage.getItem('email') || d.bot === localStorage.getItem('phone')) && d.directChannel.indexOf(localStorage.getItem('firstName') + ' ' + localStorage.getItem('lastName')) >= 0) {\n            let flag = false;\n            d.readUsers.map(user => {\n              if (user.name === localStorage.getItem(\"firstName\") + ' ' + localStorage.getItem('lastName')) {\n                flag = true;\n              }\n            });\n            if (!flag) {\n              this.directs.map(channel => {\n                if (channel.title === d.channel) {\n                  channel.new = true;\n                }\n              });\n            } else {\n              this.directs.map(channel => {\n                if (channel.title === d.channel) {\n                  channel.new = false;\n                }\n              });\n            }\n          }\n        });\n      });\n    });\n\n    this.user.isSetUser.subscribe(d => {\n      this.username = localStorage.getItem(\"firstName\") + \" \" + localStorage.getItem(\"lastName\");\n      this.facility = localStorage.getItem(\"facility\");\n      this.photoUrl = localStorage.getItem(\"photo\");\n      this.userType = localStorage.getItem(\"type\");\n    });\n\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n    });\n  }\n\n  openPage(page) {\n    localStorage.setItem(\"channelType\", page.channel);\n    this.departments.map(page => {\n      page.selected = false;\n    });\n    if (page.component === ChatPage) {\n      this.user.isSeletedChannel.next(true);\n    }\n\n    page.selected = true;\n\n    if(page.type) {\n      this.nav.setRoot(page.component, {title: page.title, type: page.type, sender: page.sender, receiver: page.receiver, email: page.email, phone: page.phone});\n    } else {\n      this.nav.setRoot(page.component, {title: page.title});      \n    }\n  }\n\n  signOut() {\n    this.nav.setRoot(HomePage);\n    this.user.logout();\n  }\n\n  presentModal(page) {\n    let modal = this.modalCtrl.create(ModalPage, {title: page.title, type: page.inviteType});\n    modal.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}